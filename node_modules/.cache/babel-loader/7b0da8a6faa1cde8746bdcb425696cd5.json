{"ast":null,"code":"import { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\n\nconst userDefault = {\n  accountId: '18880000000',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  loginFlag: false,\n  redirectPath: '/main/home',\n  userName: '尚未登录',\n  department: '测试部门',\n  companyUnit: '默认单位',\n  position: '默认职位',\n  acceptOrderStatus: 0\n};\n\nfunction userInfo(state = userDefault, action) {\n  switch (action.type) {\n    case SET_USER_INFO:\n      const newState = { ...state,\n        ...action.data,\n        loginFlag: action.data.accountId !== ''\n      };\n      const logState = {\n        accountId: newState.accountId,\n        accountType: newState.accountType,\n        token: newState.token\n      };\n      setStorage('storageUserInfo', logState);\n      return newState;\n\n    case CLEAR_USER_INFO:\n      removeStorage('storageUserInfo');\n      return userDefault;\n\n    case SET_REDIRECT:\n      const setRedirectState = { ...state,\n        redirectPath: action.data\n      };\n      return setRedirectState;\n\n    case SET_ACCEPT_ORDER_STATUS:\n      {\n        const setRedirectState = { ...state,\n          acceptOrderStatus: action.data\n        };\n        return setRedirectState;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;","map":{"version":3,"sources":["/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/store/user/index.js"],"names":["USER_IDNTITY","SET_USER_INFO","CLEAR_USER_INFO","SET_REDIRECT","SET_ACCEPT_ORDER_STATUS","removeStorage","setStorage","userDefault","accountId","accountType","BANK_STAFF","token","loginFlag","redirectPath","userName","department","companyUnit","position","acceptOrderStatus","userInfo","state","action","type","newState","data","logState","setRedirectState"],"mappings":"AACA,SAASA,YAAT,QAA6B,8BAA7B;AACA,SAASC,aAAT,EAAwBC,eAAxB,EAAyCC,YAAzC,EAAuDC,uBAAvD,QAAsF,iBAAtF;AACA,SAASC,aAAT,EAAwBC,UAAxB,QAA0C,0BAA1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,aADO;AAElBC,EAAAA,WAAW,EAAET,YAAY,CAACU,UAFR;AAGlBC,EAAAA,KAAK,EAAE,IAHW;AAIlBC,EAAAA,SAAS,EAAE,KAJO;AAKlBC,EAAAA,YAAY,EAAE,YALI;AAMlBC,EAAAA,QAAQ,EAAE,MANQ;AAOlBC,EAAAA,UAAU,EAAE,MAPM;AAQlBC,EAAAA,WAAW,EAAE,MARK;AASlBC,EAAAA,QAAQ,EAAE,MATQ;AAUlBC,EAAAA,iBAAiB,EAAE;AAVD,CAApB;;AAYA,SAASC,QAAT,CAAkBC,KAAK,GAAGb,WAA1B,EAAuCc,MAAvC,EAA+C;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKrB,aAAL;AACE,YAAMsB,QAAQ,GAAG,EACf,GAAGH,KADY;AAEf,WAAGC,MAAM,CAACG,IAFK;AAGfZ,QAAAA,SAAS,EAAES,MAAM,CAACG,IAAP,CAAYhB,SAAZ,KAA0B;AAHtB,OAAjB;AAKA,YAAMiB,QAAQ,GAAG;AACfjB,QAAAA,SAAS,EAAEe,QAAQ,CAACf,SADL;AAEfC,QAAAA,WAAW,EAAEc,QAAQ,CAACd,WAFP;AAGfE,QAAAA,KAAK,EAAEY,QAAQ,CAACZ;AAHD,OAAjB;AAKAL,MAAAA,UAAU,CAAC,iBAAD,EAAoBmB,QAApB,CAAV;AACA,aAAOF,QAAP;;AACF,SAAKrB,eAAL;AACEG,MAAAA,aAAa,CAAC,iBAAD,CAAb;AACA,aAAOE,WAAP;;AACF,SAAKJ,YAAL;AACE,YAAMuB,gBAAgB,GAAG,EACvB,GAAGN,KADoB;AAEvBP,QAAAA,YAAY,EAAEQ,MAAM,CAACG;AAFE,OAAzB;AAIA,aAAOE,gBAAP;;AACF,SAAKtB,uBAAL;AAA8B;AAC5B,cAAMsB,gBAAgB,GAAG,EACvB,GAAGN,KADoB;AAEvBF,UAAAA,iBAAiB,EAAEG,MAAM,CAACG;AAFH,SAAzB;AAIA,eAAOE,gBAAP;AACD;;AACD;AACE,aAAON,KAAP;AA/BJ;AAiCD;;AAED,eAAeD,QAAf","sourcesContent":["\nimport { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\nconst userDefault = {\n  accountId: '18880000000',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  loginFlag: false,\n  redirectPath: '/main/home',\n  userName: '尚未登录',\n  department: '测试部门',\n  companyUnit: '默认单位',\n  position: '默认职位',\n  acceptOrderStatus: 0,\n};\nfunction userInfo(state = userDefault, action) {\n  switch (action.type) {\n    case SET_USER_INFO:\n      const newState = {\n        ...state,\n        ...action.data,\n        loginFlag: action.data.accountId !== '',\n      };\n      const logState = {\n        accountId: newState.accountId,\n        accountType: newState.accountType,\n        token: newState.token,\n      };\n      setStorage('storageUserInfo', logState);\n      return newState;\n    case CLEAR_USER_INFO:\n      removeStorage('storageUserInfo');\n      return userDefault;\n    case SET_REDIRECT:\n      const setRedirectState = {\n        ...state,\n        redirectPath: action.data,\n      };\n      return setRedirectState;\n    case SET_ACCEPT_ORDER_STATUS: {\n      const setRedirectState = {\n        ...state,\n        acceptOrderStatus: action.data,\n      };\n      return setRedirectState;\n    }\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;\n"]},"metadata":{},"sourceType":"module"}