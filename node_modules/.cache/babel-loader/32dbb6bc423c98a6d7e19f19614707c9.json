{"ast":null,"code":"import { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\n\nconst userDefault = {\n  accountId: '18880000000',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  loginFlag: false,\n  redirectPath: '/',\n  userName: \"尚未登录\",\n  department: \"测试部门\",\n  companyUnit: \"默认单位\",\n  position: \"默认职位\",\n  acceptOrderStatus: 0\n};\n\nfunction userInfo(state = userDefault, action) {\n  switch (action.type) {\n    case SET_USER_INFO:\n      console.log(\"SET_USER_INFO\");\n      let newState = { ...state,\n        ...action.data,\n        loginFlag: action.data.accountId.trim() !== ''\n      };\n      let logState = {\n        accountId: newState.accountId,\n        accountType: newState.accountType,\n        token: newState.token\n      };\n      setStorage('storageUserInfo', logState);\n      return newState;\n\n    case CLEAR_USER_INFO:\n      removeStorage('storageUserInfo');\n      return userDefault;\n\n    case SET_REDIRECT:\n      let setRedirectState = { ...state,\n        redirectPath: action.data\n      };\n      return setRedirectState;\n\n    case SET_ACCEPT_ORDER_STATUS:\n      {\n        let setRedirectState = { ...state,\n          acceptOrderStatus: action.data\n        };\n        return setRedirectState;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;","map":{"version":3,"sources":["/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/store/user/index.js"],"names":["USER_IDNTITY","SET_USER_INFO","CLEAR_USER_INFO","SET_REDIRECT","SET_ACCEPT_ORDER_STATUS","removeStorage","setStorage","userDefault","accountId","accountType","BANK_STAFF","token","loginFlag","redirectPath","userName","department","companyUnit","position","acceptOrderStatus","userInfo","state","action","type","console","log","newState","data","trim","logState","setRedirectState"],"mappings":"AACA,SAAQA,YAAR,QAA2B,8BAA3B;AACA,SAAQC,aAAR,EAAsBC,eAAtB,EAAsCC,YAAtC,EAAmDC,uBAAnD,QAAgF,iBAAhF;AACA,SAAQC,aAAR,EAAsBC,UAAtB,QAAsC,0BAAtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAE;AACjBC,EAAAA,SAAS,EAAC,aADO;AAEjBC,EAAAA,WAAW,EAACT,YAAY,CAACU,UAFR;AAGjBC,EAAAA,KAAK,EAAC,IAHW;AAIjBC,EAAAA,SAAS,EAAC,KAJO;AAKjBC,EAAAA,YAAY,EAAC,GALI;AAMjBC,EAAAA,QAAQ,EAAC,MANQ;AAOjBC,EAAAA,UAAU,EAAC,MAPM;AAQjBC,EAAAA,WAAW,EAAC,MARK;AASjBC,EAAAA,QAAQ,EAAC,MATQ;AAUjBC,EAAAA,iBAAiB,EAAC;AAVD,CAAnB;;AAYA,SAASC,QAAT,CAAmBC,KAAK,GAACb,WAAzB,EAAqCc,MAArC,EAA4C;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKrB,aAAL;AACIsB,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,UAAIC,QAAQ,GAAC,EACZ,GAAGL,KADS;AAER,WAAGC,MAAM,CAACK,IAFF;AAGRd,QAAAA,SAAS,EAACS,MAAM,CAACK,IAAP,CAAYlB,SAAZ,CAAsBmB,IAAtB,OAA+B;AAHjC,OAAb;AAKG,UAAIC,QAAQ,GAAC;AACXpB,QAAAA,SAAS,EAACiB,QAAQ,CAACjB,SADR;AAEXC,QAAAA,WAAW,EAACgB,QAAQ,CAAChB,WAFV;AAGXE,QAAAA,KAAK,EAACc,QAAQ,CAACd;AAHJ,OAAb;AAKAL,MAAAA,UAAU,CAAC,iBAAD,EAAmBsB,QAAnB,CAAV;AACH,aAAOH,QAAP;;AACD,SAAKvB,eAAL;AACIG,MAAAA,aAAa,CAAC,iBAAD,CAAb;AACA,aAAOE,WAAP;;AACF,SAAKJ,YAAL;AACE,UAAI0B,gBAAgB,GAAC,EACnB,GAAGT,KADgB;AAEnBP,QAAAA,YAAY,EAACQ,MAAM,CAACK;AAFD,OAArB;AAIA,aAAOG,gBAAP;;AACF,SAAKzB,uBAAL;AAA6B;AAC3B,YAAIyB,gBAAgB,GAAC,EACnB,GAAGT,KADgB;AAEnBF,UAAAA,iBAAiB,EAACG,MAAM,CAACK;AAFN,SAArB;AAIA,eAAOG,gBAAP;AACD;;AACH;AACC,aAAOT,KAAP;AAhCF;AAkCA;;AAED,eAAeD,QAAf","sourcesContent":["\nimport {USER_IDNTITY} from '@/plugins/resurceStatus/user'\nimport {SET_USER_INFO,CLEAR_USER_INFO,SET_REDIRECT,SET_ACCEPT_ORDER_STATUS}from '@/store/actions'\nimport {removeStorage,setStorage}from '@/plugins/common/storage'\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\nconst userDefault= {\n  accountId:'18880000000',\n  accountType:USER_IDNTITY.BANK_STAFF,\n  token:null,\n  loginFlag:false,\n  redirectPath:'/',\n  userName:\"尚未登录\",\n  department:\"测试部门\",\n  companyUnit:\"默认单位\",\n  position:\"默认职位\",\n  acceptOrderStatus:0\n}\nfunction userInfo (state=userDefault,action){\n\tswitch(action.type){\n\t\tcase SET_USER_INFO:\n      console.log(\"SET_USER_INFO\")\n\t\t\tlet newState={\n\t\t\t\t...state,\n        ...action.data,\n        loginFlag:action.data.accountId.trim()!=='',\n      }\n      let logState={\n        accountId:newState.accountId,\n        accountType:newState.accountType,\n        token:newState.token\n      }\n      setStorage('storageUserInfo',logState)\n\t\t\treturn newState;\n\t\tcase CLEAR_USER_INFO:\n      removeStorage('storageUserInfo')\n      return userDefault;\n    case SET_REDIRECT:\n      let setRedirectState={\n        ...state,\n        redirectPath:action.data\n      }\n      return setRedirectState;\n    case SET_ACCEPT_ORDER_STATUS:{\n      let setRedirectState={\n        ...state,\n        acceptOrderStatus:action.data\n      }\n      return setRedirectState\n    }\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default userInfo"]},"metadata":{},"sourceType":"module"}