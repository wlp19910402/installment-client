{"ast":null,"code":"import Axios from'axios';import{getStorage}from'@/plugins/common/storage';var baseUrl=process.env.NODE_ENV==='production'?process.env.REACT_APP_BASE_URL:\"\";var axios=Axios.create({baseURL:baseUrl,timeout:2000,headers:{'Content-Type':'application/json; charset=UTF-8'}});//请求前干点事情，加上账号id和类型，token在头部\naxios.interceptors.request.use(function(config){//从localstorage中拿数据\nvar storageUserInfo=getStorage('storageUserInfo');if(!storageUserInfo){storageUserInfo={accountId:null,accountType:null,token:null};}//本地存储的用户信息不能为空\nif(!storageUserInfo.accountId||!storageUserInfo.accountType||!storageUserInfo.token){storageUserInfo={accountId:null,accountType:null,token:null};}var _storageUserInfo=storageUserInfo,accountId=_storageUserInfo.accountId,accountType=_storageUserInfo.accountType,token=_storageUserInfo.token;config.headers.accountId=accountId;config.headers.accountType=accountType;config.headers.token=token;return config;});axios.interceptors.response.use(function(response){// 对响应数据做点什么\nreturn response;},function(error){// 对响应错误做点什么\nreturn Promise.reject(error);});export default axios;","map":null,"metadata":{},"sourceType":"module"}