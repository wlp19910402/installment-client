{"ast":null,"code":"import \"antd-mobile/lib/switch/style\";\nimport _Switch from \"antd-mobile/lib/switch\";\nimport \"antd-mobile/lib/toast/style\";\nimport _Toast from \"antd-mobile/lib/toast\";\nimport \"antd-mobile/lib/grid/style\";\nimport _Grid from \"antd-mobile/lib/grid\";\nimport \"antd-mobile/lib/card/style\";\nimport _Card from \"antd-mobile/lib/card\";\nimport \"antd-mobile/lib/wing-blank/style\";\nimport _WingBlank from \"antd-mobile/lib/wing-blank\";\nimport \"antd-mobile/lib/white-space/style\";\nimport _WhiteSpace from \"antd-mobile/lib/white-space\";\nimport \"antd-mobile/lib/modal/style\";\nimport _Modal from \"antd-mobile/lib/modal\";\nimport \"antd-mobile/lib/list/style\";\nimport _List from \"antd-mobile/lib/list\";\nvar _jsxFileName = \"/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/components/main/My.js\";\nimport React from 'react';\nimport { LockOutlined, LogoutOutlined, CustomerServiceOutlined, UserOutlined, MobileOutlined, CreditCardOutlined, BankFilled, CarryOutFilled } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { CLEAR_USER_INFO, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { createForm } from 'rc-form';\nimport { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { CLIENT_INTERFACE } from '@/plugins/libs/interfaceMap';\nimport axios from '@/plugins/requestServer/httpClient';\nconst {\n  Item\n} = _List;\nconst {\n  alert\n} = _Modal;\nconst data = [{\n  icon: () => /*#__PURE__*/React.createElement(MobileOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 18\n    }\n  }),\n  text: '15701578892'\n}, {\n  icon: () => /*#__PURE__*/React.createElement(CreditCardOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 18\n    }\n  }),\n  text: '银行卡中心'\n}, {\n  icon: () => /*#__PURE__*/React.createElement(BankFilled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 18\n    }\n  }),\n  text: '中国银行'\n}];\n\nclass HomePage extends React.Component {\n  fetchUserTag() {\n    data.forEach((item, index) => {\n      if (index === 0) {\n        item.text = this.props.user.accountId;\n      } else if (index === 1) {\n        item.text = this.props.user.department;\n      } else if (index === 2) {\n        item.text = this.props.user.companyUnit;\n      }\n    });\n    return data;\n  }\n\n  exitClearUserData() {\n    const alertInstance = alert('确认要退出登录吗', '', [{\n      text: '取消',\n      onPress: () => null,\n      style: 'default'\n    }, {\n      text: '确认退出',\n      onPress: () => {\n        this.props.parent.props.history.push('/login');\n        this.props.clearUserInfo();\n      }\n    }]);\n    setTimeout(() => {\n      // 可以调用close方法以在外部close\n      alertInstance.close();\n    }, 500000);\n  }\n\n  render() {\n    const {\n      getFieldProps\n    } = this.props.form;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"qm-fill-width\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"qm-main-my-header qm-bg-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(_WhiteSpace, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(_WingBlank, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(_Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Card.Header, {\n      title: /*#__PURE__*/React.createElement(_WingBlank, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(_WhiteSpace, {\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, this.props.user.userName), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"qm-text-primary qm-body-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, this.props.user.position), /*#__PURE__*/React.createElement(_WhiteSpace, {\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      })),\n      thumb: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"qm-icon-cricle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(UserOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 57\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(_Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(_Grid, {\n      hasLine: false,\n      activeStyle: false,\n      data: this.fetchUserTag(),\n      columnNum: 2,\n      square: false,\n      itemStyle: {\n        float: 'left',\n        textAlign: 'left'\n      },\n      renderItem: dataItem => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, dataItem.icon(), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          marginLeft: '4px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 43\n        }\n      }, dataItem.text)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(_WhiteSpace, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(_WingBlank, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, this.props.user.accountType === USER_IDNTITY.FOREIGN_STAFF ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(_List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      thumb: /*#__PURE__*/React.createElement(CarryOutFilled, {\n        className: \"qm-text-primary mainIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }),\n      extra: /*#__PURE__*/React.createElement(_Switch, Object.assign({}, getFieldProps('acceptOrderStatus', {\n        initialValue: this.props.user.acceptOrderStatus !== 0,\n        valuePropName: 'checked'\n      }), {\n        onClick: async checked => {\n          try {\n            const res = await axios.post(CLIENT_INTERFACE.SET_ACCEPT_ORDER_STATUS, {\n              acceptOrderStatus: checked ? 1 : 0\n            });\n\n            if (res.data.err !== '0') {\n              _Toast.info(res.data.msg, 1);\n\n              return;\n            }\n\n            const userData = res.data.result;\n            this.props.form.setFieldsValue({\n              acceptOrderStatus: userData !== 0\n            });\n\n            if (userData === 1) {\n              _Toast.success('设置接单成功', 1);\n            }\n\n            this.props.setWhetherOrder(userData);\n          } catch (err) {\n            console.log(err);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 23\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, \"\\u63A5\\u5355\")), /*#__PURE__*/React.createElement(_WhiteSpace, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    })) : null, /*#__PURE__*/React.createElement(_List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/user/updatePassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      thumb: /*#__PURE__*/React.createElement(LockOutlined, {\n        className: \"qm-text-waring mainIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }),\n      arrow: \"horizontal\",\n      onClick: () => {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, \"\\u4FEE\\u6539\\u5BC6\\u7801\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/user/contact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      thumb: /*#__PURE__*/React.createElement(CustomerServiceOutlined, {\n        className: \"qm-text-wait mainIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }),\n      arrow: \"horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"\\u8054\\u7CFB\\u5BA2\\u670D\"))), /*#__PURE__*/React.createElement(_WhiteSpace, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(_List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      thumb: /*#__PURE__*/React.createElement(LogoutOutlined, {\n        className: \"qm-text-error mainIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 23\n        }\n      }),\n      arrow: \"horizontal\",\n      onClick: this.exitClearUserData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, \" \\u9000\\u51FA\\u767B\\u5F55\")), /*#__PURE__*/React.createElement(_WhiteSpace, {\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(_List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      thumb: /*#__PURE__*/React.createElement(CustomerServiceOutlined, {\n        className: \"qm-text-wait mainIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }),\n      arrow: \"horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, \"\\u9996\\u9875\")))));\n  }\n\n}\n\nexport default connect((state, props) => ({ ...props,\n  ...state\n}), {\n  clearUserInfo() {\n    return {\n      type: CLEAR_USER_INFO\n    };\n  },\n\n  setWhetherOrder(data) {\n    return {\n      type: SET_ACCEPT_ORDER_STATUS,\n      data\n    };\n  }\n\n})(createForm()(HomePage));","map":{"version":3,"sources":["/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/components/main/My.js"],"names":["React","LockOutlined","LogoutOutlined","CustomerServiceOutlined","UserOutlined","MobileOutlined","CreditCardOutlined","BankFilled","CarryOutFilled","Link","connect","CLEAR_USER_INFO","SET_ACCEPT_ORDER_STATUS","createForm","USER_IDNTITY","CLIENT_INTERFACE","axios","Item","alert","data","icon","text","HomePage","Component","fetchUserTag","forEach","item","index","props","user","accountId","department","companyUnit","exitClearUserData","alertInstance","onPress","style","parent","history","push","clearUserInfo","setTimeout","close","render","getFieldProps","form","userName","position","float","textAlign","dataItem","marginLeft","accountType","FOREIGN_STAFF","initialValue","acceptOrderStatus","valuePropName","checked","res","post","err","info","msg","userData","result","setFieldsValue","success","setWhetherOrder","console","log","bind","state","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Modal, Card, WingBlank, WhiteSpace, List, Grid, Switch, Toast } from 'antd-mobile';\nimport { LockOutlined, LogoutOutlined, CustomerServiceOutlined, UserOutlined, MobileOutlined, CreditCardOutlined, BankFilled, CarryOutFilled } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { CLEAR_USER_INFO, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { createForm } from 'rc-form';\nimport { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { CLIENT_INTERFACE } from '@/plugins/libs/interfaceMap';\nimport axios from '@/plugins/requestServer/httpClient';\n\nconst { Item } = List;\nconst { alert } = Modal;\nconst data = [\n  {\n    icon: () => (<MobileOutlined/>),\n    text: '15701578892',\n  }, {\n    icon: () => (<CreditCardOutlined/>),\n    text: '银行卡中心',\n  }, {\n    icon: () => (<BankFilled/>),\n    text: '中国银行',\n  }];\nclass HomePage extends React.Component {\n  fetchUserTag() {\n    data.forEach((item, index) => {\n      if (index === 0) {\n        item.text = this.props.user.accountId;\n      } else if (index === 1) {\n        item.text = this.props.user.department;\n      } else if (index === 2) {\n        item.text = this.props.user.companyUnit;\n      }\n    });\n    return data;\n  }\n\n  exitClearUserData() {\n    const alertInstance = alert('确认要退出登录吗', '', [\n      { text: '取消', onPress: () => null, style: 'default' },\n      { text: '确认退出',\n        onPress: () => {\n          this.props.parent.props.history.push('/login');\n          this.props.clearUserInfo();\n        } },\n    ]);\n    setTimeout(() => {\n      // 可以调用close方法以在外部close\n      alertInstance.close();\n    }, 500000);\n  }\n\n  render() {\n    const { getFieldProps } = this.props.form;\n    return (\n      <div className=\"qm-fill-width\">\n        <div className=\"qm-main-my-header qm-bg-primary\">\n          <WhiteSpace size=\"md\"/>\n          <WingBlank size=\"md\">\n            <Card>\n              <Card.Header\n                title={ (\n                  <WingBlank>\n                    <WhiteSpace size=\"md\"/>\n                    <div>{this.props.user.userName}</div>\n                    <span className=\"qm-text-primary qm-body-1\">{this.props.user.position}</span>\n                    <WhiteSpace size=\"md\"/>\n                  </WingBlank>\n) }\n                thumb={ <div className=\"qm-icon-cricle\"><UserOutlined/></div> }\n              />\n              <Card.Body>\n                <Grid\n                  hasLine={ false }\n                  activeStyle={ false }\n                  data={ this.fetchUserTag() }\n                  columnNum={ 2 }\n                  square={ false }\n                  itemStyle={ { float: 'left', textAlign: 'left' } }\n                  renderItem={ dataItem => (\n                    <div>{dataItem.icon()}<span style={ { marginLeft: '4px' } }>{dataItem.text}</span></div>\n                  ) }\n                />\n              </Card.Body>\n            </Card>\n          </WingBlank>\n        </div>\n        <WhiteSpace size=\"md\"/>\n        <WingBlank size=\"md\">\n          {this.props.user.accountType === USER_IDNTITY.FOREIGN_STAFF\n            ? (\n              <div>\n                <List>\n                  <Item\n                    thumb={ <CarryOutFilled className=\"qm-text-primary mainIcon\"/> }\n                    extra={ (\n                      <Switch\n                        { ...getFieldProps('acceptOrderStatus', {\n                          initialValue: this.props.user.acceptOrderStatus !== 0,\n                          valuePropName: 'checked',\n                        }) }\n                        onClick={ async (checked) => {\n                          try {\n                            const res = await axios.post(CLIENT_INTERFACE.SET_ACCEPT_ORDER_STATUS, { acceptOrderStatus: checked ? 1 : 0 });\n                            if (res.data.err !== '0') {\n                              Toast.info(res.data.msg, 1);\n                              return;\n                            }\n                            const userData = res.data.result;\n                            this.props.form.setFieldsValue({\n                              acceptOrderStatus: userData !== 0,\n                            });\n                            if (userData === 1) { Toast.success('设置接单成功', 1); }\n                            this.props.setWhetherOrder(userData);\n                          } catch (err) {\n                            console.log(err);\n                          }\n                        } }\n                      />\n) }\n                  >接单\n                  </Item>\n                </List>\n                <WhiteSpace size=\"md\"/>\n              </div>\n            ) : null}\n          <List>\n            <Link to=\"/user/updatePassword\">\n              <Item\n                thumb={ <LockOutlined className=\"qm-text-waring mainIcon\"/> }\n                arrow=\"horizontal\"\n                onClick={ () => {} }\n              >修改密码\n              </Item>\n            </Link>\n            <Link to=\"/user/contact\">\n              <Item\n                thumb={ <CustomerServiceOutlined className=\"qm-text-wait mainIcon\"/> }\n                arrow=\"horizontal\"\n              >\n                联系客服\n              </Item>\n            </Link>\n          </List>\n          <WhiteSpace size=\"md\"/>\n          <List>\n            <Item\n              thumb={ <LogoutOutlined className=\"qm-text-error mainIcon\"/> }\n              arrow=\"horizontal\"\n              onClick={ this.exitClearUserData.bind(this) }\n            > 退出登录\n            </Item>\n          </List>\n          <WhiteSpace size=\"md\"/>\n          <List>\n            <Link to=\"/\">\n              <Item\n                thumb={ <CustomerServiceOutlined className=\"qm-text-wait mainIcon\"/> }\n                arrow=\"horizontal\"\n              >\n                首页\n              </Item>\n            </Link>\n          </List>\n        </WingBlank>\n      </div>\n    );\n  }\n}\nexport default connect((state, props) => ({\n  ...props,\n  ...state,\n}), {\n  clearUserInfo() {\n    return {\n      type: CLEAR_USER_INFO,\n    };\n  },\n  setWhetherOrder(data) {\n    return {\n      type: SET_ACCEPT_ORDER_STATUS,\n      data,\n    };\n  },\n})(createForm()(HomePage));\n"]},"metadata":{},"sourceType":"module"}