{"ast":null,"code":"import { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT, SET_ACCEPT_ORDER_STATUS } from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\n\nconst userDefault = {\n  accountId: '18880000000',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  loginFlag: false,\n  redirectPath: '/main/home',\n  userName: '尚未登录',\n  department: '测试部门',\n  companyUnit: '默认单位',\n  position: '默认职位',\n  acceptOrderStatus: 0\n};\n\nfunction userInfo(state = userDefault, action) {\n  switch (action.type) {\n    case SET_USER_INFO:\n      {\n        const newState = { ...state,\n          ...action.data,\n          loginFlag: action.data.accountId !== ''\n        };\n        const logState = {\n          accountId: newState.accountId,\n          accountType: newState.accountType,\n          token: newState.token\n        };\n        setStorage('storageUserInfo', logState);\n        return newState;\n      }\n\n    case CLEAR_USER_INFO:\n      {\n        removeStorage('storageUserInfo');\n        return userDefault;\n      }\n\n    case SET_REDIRECT:\n      {\n        const setRedirectState = { ...state,\n          redirectPath: action.data\n        };\n        return setRedirectState;\n      }\n\n    case SET_ACCEPT_ORDER_STATUS:\n      {\n        const setOrderStatus = { ...state,\n          acceptOrderStatus: action.data\n        };\n        return setOrderStatus;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;","map":{"version":3,"sources":["/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/store/user/index.js"],"names":["USER_IDNTITY","SET_USER_INFO","CLEAR_USER_INFO","SET_REDIRECT","SET_ACCEPT_ORDER_STATUS","removeStorage","setStorage","userDefault","accountId","accountType","BANK_STAFF","token","loginFlag","redirectPath","userName","department","companyUnit","position","acceptOrderStatus","userInfo","state","action","type","newState","data","logState","setRedirectState","setOrderStatus"],"mappings":"AAAA,SAASA,YAAT,QAA6B,8BAA7B;AACA,SACEC,aADF,EACiBC,eADjB,EACkCC,YADlC,EACgDC,uBADhD,QAEO,iBAFP;AAGA,SAASC,aAAT,EAAwBC,UAAxB,QAA0C,0BAA1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,aADO;AAElBC,EAAAA,WAAW,EAAET,YAAY,CAACU,UAFR;AAGlBC,EAAAA,KAAK,EAAE,IAHW;AAIlBC,EAAAA,SAAS,EAAE,KAJO;AAKlBC,EAAAA,YAAY,EAAE,YALI;AAMlBC,EAAAA,QAAQ,EAAE,MANQ;AAOlBC,EAAAA,UAAU,EAAE,MAPM;AAQlBC,EAAAA,WAAW,EAAE,MARK;AASlBC,EAAAA,QAAQ,EAAE,MATQ;AAUlBC,EAAAA,iBAAiB,EAAE;AAVD,CAApB;;AAYA,SAASC,QAAT,CAAkBC,KAAK,GAAGb,WAA1B,EAAuCc,MAAvC,EAA+C;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKrB,aAAL;AAAmB;AACjB,cAAMsB,QAAQ,GAAG,EACf,GAAGH,KADY;AAEf,aAAGC,MAAM,CAACG,IAFK;AAGfZ,UAAAA,SAAS,EAAES,MAAM,CAACG,IAAP,CAAYhB,SAAZ,KAA0B;AAHtB,SAAjB;AAKA,cAAMiB,QAAQ,GAAG;AACfjB,UAAAA,SAAS,EAAEe,QAAQ,CAACf,SADL;AAEfC,UAAAA,WAAW,EAAEc,QAAQ,CAACd,WAFP;AAGfE,UAAAA,KAAK,EAAEY,QAAQ,CAACZ;AAHD,SAAjB;AAKAL,QAAAA,UAAU,CAAC,iBAAD,EAAoBmB,QAApB,CAAV;AACA,eAAOF,QAAP;AACD;;AACD,SAAKrB,eAAL;AAAqB;AACnBG,QAAAA,aAAa,CAAC,iBAAD,CAAb;AACA,eAAOE,WAAP;AACD;;AACD,SAAKJ,YAAL;AAAkB;AAChB,cAAMuB,gBAAgB,GAAG,EACvB,GAAGN,KADoB;AAEvBP,UAAAA,YAAY,EAAEQ,MAAM,CAACG;AAFE,SAAzB;AAIA,eAAOE,gBAAP;AACD;;AACD,SAAKtB,uBAAL;AAA8B;AAC5B,cAAMuB,cAAc,GAAG,EACrB,GAAGP,KADkB;AAErBF,UAAAA,iBAAiB,EAAEG,MAAM,CAACG;AAFL,SAAvB;AAIA,eAAOG,cAAP;AACD;;AACD;AACE,aAAOP,KAAP;AAlCJ;AAoCD;;AAED,eAAeD,QAAf","sourcesContent":["import { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport {\n  SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT, SET_ACCEPT_ORDER_STATUS,\n} from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} loginFlag:是否已经登录,登录标识\n * @param {*} redirectPath:重定向地址\n * @param {*} userName:登录者的名字\n * @param {*} department:登录者的部门\n * @param {*} companyUnit:登录者的公司名称\n * @param {*} position:登录者的职位\n * @param {*} acceptOrderStatus:是否接单，在外勤人员需要，默认是 0 是不接单，1 是接单，\n */\nconst userDefault = {\n  accountId: '18880000000',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  loginFlag: false,\n  redirectPath: '/main/home',\n  userName: '尚未登录',\n  department: '测试部门',\n  companyUnit: '默认单位',\n  position: '默认职位',\n  acceptOrderStatus: 0,\n};\nfunction userInfo(state = userDefault, action) {\n  switch (action.type) {\n    case SET_USER_INFO:{\n      const newState = {\n        ...state,\n        ...action.data,\n        loginFlag: action.data.accountId !== '',\n      };\n      const logState = {\n        accountId: newState.accountId,\n        accountType: newState.accountType,\n        token: newState.token,\n      };\n      setStorage('storageUserInfo', logState);\n      return newState;\n    }\n    case CLEAR_USER_INFO:{\n      removeStorage('storageUserInfo');\n      return userDefault;\n    }\n    case SET_REDIRECT:{\n      const setRedirectState = {\n        ...state,\n        redirectPath: action.data,\n      };\n      return setRedirectState;\n    }\n    case SET_ACCEPT_ORDER_STATUS: {\n      const setOrderStatus = {\n        ...state,\n        acceptOrderStatus: action.data,\n      };\n      return setOrderStatus;\n    }\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;\n"]},"metadata":{},"sourceType":"module"}