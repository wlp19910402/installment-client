{"ast":null,"code":"import { USER_IDNTITY } from '@/plugins/resurceStatus/user';\nimport { SET_USER_INFO, CLEAR_USER_INFO, SET_REDIRECT } from '@/store/actions';\nimport { removeStorage, setStorage } from '@/plugins/common/storage';\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} isAuth:是否已经登录\n * @param {*} redirectPath:重定向地址\n */\n\nfunction userInfo(state = {\n  accountId: '',\n  accountType: USER_IDNTITY.BANK_STAFF,\n  token: null,\n  isAuth: false,\n  redirectPath: '/'\n}, action) {\n  switch (action.type) {\n    case SET_USER_INFO:\n      let newState = { ...state,\n        ...action.data,\n        isAuth: action.data.accountId.trim() !== ''\n      };\n      let logState = {\n        accountId: action.data.accountId,\n        accountType: action.data.accountType,\n        token: action.data.token\n      };\n      setStorage('storageUserInfo', { ...action.data\n      });\n      return newState;\n\n    case CLEAR_USER_INFO:\n      let clearState = { ...state,\n        accountId: '',\n        token: '',\n        isAuth: false\n      };\n      removeStorage('storageUserInfo');\n      return clearState;\n\n    case SET_REDIRECT:\n      let setRedirectState = { ...state,\n        redirectPath: action.data\n      };\n      return setRedirectState;\n\n    default:\n      return state;\n  }\n}\n\nexport default userInfo;","map":{"version":3,"sources":["/Users/wlp6897/newProjects/cordovaProjects/installment/front-end/src/store/user/index.js"],"names":["USER_IDNTITY","SET_USER_INFO","CLEAR_USER_INFO","SET_REDIRECT","removeStorage","setStorage","userInfo","state","accountId","accountType","BANK_STAFF","token","isAuth","redirectPath","action","type","newState","data","trim","logState","clearState","setRedirectState"],"mappings":"AACA,SAAQA,YAAR,QAA2B,8BAA3B;AACA,SAAQC,aAAR,EAAsBC,eAAtB,EAAsCC,YAAtC,QAAwD,iBAAxD;AACA,SAAQC,aAAR,EAAsBC,UAAtB,QAAsC,0BAAtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,QAAT,CAAmBC,KAAK,GAAC;AAACC,EAAAA,SAAS,EAAC,EAAX;AAAcC,EAAAA,WAAW,EAACT,YAAY,CAACU,UAAvC;AAAkDC,EAAAA,KAAK,EAAC,IAAxD;AAA6DC,EAAAA,MAAM,EAAC,KAApE;AAA0EC,EAAAA,YAAY,EAAC;AAAvF,CAAzB,EAAqHC,MAArH,EAA4H;AAC3H,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKd,aAAL;AACC,UAAIe,QAAQ,GAAC,EACZ,GAAGT,KADS;AAER,WAAGO,MAAM,CAACG,IAFF;AAGRL,QAAAA,MAAM,EAACE,MAAM,CAACG,IAAP,CAAYT,SAAZ,CAAsBU,IAAtB,OAA+B;AAH9B,OAAb;AAKG,UAAIC,QAAQ,GAAC;AACXX,QAAAA,SAAS,EAACM,MAAM,CAACG,IAAP,CAAYT,SADX;AAEXC,QAAAA,WAAW,EAACK,MAAM,CAACG,IAAP,CAAYR,WAFb;AAGXE,QAAAA,KAAK,EAACG,MAAM,CAACG,IAAP,CAAYN;AAHP,OAAb;AAKAN,MAAAA,UAAU,CAAC,iBAAD,EAAmB,EAAC,GAAGS,MAAM,CAACG;AAAX,OAAnB,CAAV;AACH,aAAOD,QAAP;;AACD,SAAKd,eAAL;AACC,UAAIkB,UAAU,GAAC,EACd,GAAGb,KADW;AAEdC,QAAAA,SAAS,EAAC,EAFI;AAGVG,QAAAA,KAAK,EAAC,EAHI;AAIVC,QAAAA,MAAM,EAAC;AAJG,OAAf;AAMGR,MAAAA,aAAa,CAAC,iBAAD,CAAb;AACA,aAAOgB,UAAP;;AACF,SAAKjB,YAAL;AACE,UAAIkB,gBAAgB,GAAC,EACnB,GAAGd,KADgB;AAEnBM,QAAAA,YAAY,EAACC,MAAM,CAACG;AAFD,OAArB;AAIA,aAAOI,gBAAP;;AACJ;AACC,aAAOd,KAAP;AA9BF;AAgCA;;AAED,eAAeD,QAAf","sourcesContent":["\nimport {USER_IDNTITY} from '@/plugins/resurceStatus/user'\nimport {SET_USER_INFO,CLEAR_USER_INFO,SET_REDIRECT}from '@/store/actions'\nimport {removeStorage,setStorage}from '@/plugins/common/storage'\n/**\n *\n * @param {*} accountId:账号ID\n * @param {*} accountType:账号类型，分为经办人员和外勤人员\n * @param {*} token:登录之后的token值\n * @param {*} isAuth:是否已经登录\n * @param {*} redirectPath:重定向地址\n */\nfunction userInfo (state={accountId:'',accountType:USER_IDNTITY.BANK_STAFF,token:null,isAuth:false,redirectPath:'/'},action){\n\tswitch(action.type){\n\t\tcase SET_USER_INFO:\n\t\t\tlet newState={\n\t\t\t\t...state,\n        ...action.data,\n        isAuth:action.data.accountId.trim()!=='',\n      }\n      let logState={\n        accountId:action.data.accountId,\n        accountType:action.data.accountType,\n        token:action.data.token,\n      }\n      setStorage('storageUserInfo',{...action.data})\n\t\t\treturn newState;\n\t\tcase CLEAR_USER_INFO:\n\t\t\tlet clearState={\n\t\t\t\t...state,\n\t\t\t\taccountId:'',\n        token:'',\n        isAuth:false\n      }\n      removeStorage('storageUserInfo')\n      return clearState;\n    case SET_REDIRECT:\n      let setRedirectState={\n        ...state,\n        redirectPath:action.data\n      }\n      return setRedirectState;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default userInfo"]},"metadata":{},"sourceType":"module"}